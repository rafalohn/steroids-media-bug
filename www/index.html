<!DOCTYPE html>
<html>
<head>
  <meta charset="utf8">
  <meta name="viewport" content="width=device-width">
  <title>Steroids Repro Template</title>

  <!-- cordova.js is served from localhost to ensure the correct version -->
  <script src="http://localhost/cordova.js"></script>
  <script src="/components/steroids-js/steroids.js"></script>

  <!--body background-color is set for Android not to show the loading screen forever-->
  <style>
  button {
    font-size: 30px;
    margin: 1em;
  }
  body {
    background-color: white; 
  }
  </style>

</head>
<body onload="onLoad()">
<h2>Steroids Repro Template - Media Test</h2>

  <script type='text/javascript'>
  var onLoad = function onLoad() {
    alert('onLoad');
    document.addEventListener("deviceready", onDeviceReady, false);
  }
    
  var onDeviceReady = function onDeviceReady() {   
    alert('ready!');
    myMediaTest();
  } 
  
  var myMediaTest = function myMediaTest(){
    alert('myMediaTest Enter');
    var audio_path;
    if(navigator.userAgent.match(/Android/i)){
      alert('i am an android');
      audio_path = "file://" + steroids.app.absolutePath + "/audio/06-engasgamento_bebe-2.mp3";
      }
    else 
      alert('i am an not an android');
      audio_path = "http://localhost/audio/06-engasgamento_bebe-2.mp3";
    try {
        var audio = new Media(audio_path, onPlaySuccess);
        audio.play(); 
      } 
    catch( e ) { 
      alert( e.message ); 
    }    
    var onPlaySuccess = function() {
        alert('success');
    }; 
  }
  </script>
</body>
</html>
